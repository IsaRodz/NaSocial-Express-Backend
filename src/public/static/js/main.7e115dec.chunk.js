(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{33:function(e,t,a){e.exports=a(63)},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(29),o=a.n(c),u=a(14),s=a(9),l=a(3),i=a.n(l),m=a(8),p=a(6),f=a(10),d=a.n(f);var E=function(){return r.a.createElement("header",null,r.a.createElement("div",{className:"container"},r.a.createElement(u.b,{to:"/",className:"logo"},"LaboraSocial"),r.a.createElement("nav",null,r.a.createElement(u.b,{to:"/login"},"Log out"))))},v=a(32),b=a(12),h=a.n(b);var w=function(e){var t=e.id,a=e.author,c=e.content,o=e.updatedAt,u=e.currentUser,s=e.updatePosts,l=Object(n.useState)(!1),f=Object(p.a)(l,2),E=f[0],b=f[1],w=Object(n.useState)(c),O=Object(p.a)(w,2),g=O[0],j=O[1],N=function(){var e=Object(m.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.put("/api/posts/".concat(t),{author:a,content:g});case 2:b(!1),s();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"author"},r.a.createElement("div",{className:"top"},r.a.createElement("span",null,a),a===u?r.a.createElement("div",{className:"actions"},r.a.createElement("button",{onClick:function(){return b(!E)}},"Edit"),r.a.createElement("button",{onClick:function(){return function(e){h.a.fire({title:"Are you sure that you want to delete this post?",text:"Once you do it, you can't undo this action",showCancelButton:!0,customClass:!0}).then(function(){var t=Object(m.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==a.value){t.next=7;break}return t.next=3,d.a.delete("/api/posts/".concat(e));case 3:s(),h.a.fire({title:"Post deleted",icon:"success",toast:"true",position:"bottom-left",showConfirmButton:!1}),t.next=8;break;case 7:h.a.fire({title:"Your post is save",icon:"success",toast:"true",position:"bottom-left",showConfirmButton:!1});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}(t)}},"Delete")):null),r.a.createElement("div",{className:"date"},Object(v.a)(o))),r.a.createElement("div",{className:"content"},E?r.a.createElement(r.a.Fragment,null,r.a.createElement("textarea",{defaultValue:c,onChange:function(e){return j(e.target.value)}}),r.a.createElement("button",{onClick:function(){return N(t)}},"Update"),r.a.createElement("button",{style:{color:"#f44336"},onClick:function(){return b(!1)}},"Cancel")):r.a.createElement("span",null,c)))};var O=function(e){var t=e.sharePost,a=e.user,c=Object(n.useState)(""),o=Object(p.a)(c,2),u=o[0],s=o[1],l=function(){var e=Object(m.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),0!=u){e.next=5;break}h.a.fire({title:"You must type something to post",icon:"error",toast:"true",position:"bottom-left",showConfirmButton:!1}),e.next=9;break;case 5:return e.next=7,d.a.post("/api/posts",{author:a,content:u});case 7:s(""),t();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"card"},r.a.createElement("form",{onSubmit:l},r.a.createElement("div",{className:"input"},r.a.createElement("textarea",{value:u,onChange:function(e){return s(e.target.value)},placeholder:"What's on your mind?"}),r.a.createElement("span",null)),r.a.createElement("button",{type:"submit",className:"btn"},"Share")))};var g=function(){Object(n.useEffect)((function(){o()}),[]);var e=Object(n.useState)([]),t=Object(p.a)(e,2),a=t[0],c=t[1],o=function(){var e=Object(m.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("/api/posts");case 2:t=e.sent,c(t.data.reverse());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(m.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,null),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"notesList"},r.a.createElement(O,{user:"isarodz",sharePost:u}),r.a.createElement("h1",null,"Latest posts"),a.map((function(e){return r.a.createElement(w,{currentUser:"isarodz",key:e._id,id:e._id,author:e.author,content:e.content,updatedAt:e.updatedAt,updatePosts:u})})))))},j=a(18);var N=function(){var e=Object(n.useState)({email:null,password:null}),t=Object(p.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)({email:null,password:null}),u=Object(p.a)(o,2),s=u[0];return u[1],r.a.createElement("div",{className:"login "},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),console.log(a)}},r.a.createElement("h2",null,"Sign In "),r.a.createElement("div",{className:"input"},r.a.createElement("input",{onChange:function(e){return c(Object(j.a)({},a,{email:e.target.value}))},type:"email",placeholder:"Email"}),r.a.createElement("span",null)),s.email?r.a.createElement("span",{className:"error"},s.email):null,r.a.createElement("div",{className:"input"},r.a.createElement("input",{onChange:function(e){return c(Object(j.a)({},a,{password:e.target.value}))},type:"password",placeholder:"Password"}),r.a.createElement("span",null)),s.password?r.a.createElement("span",{className:"error"},s.password):null,r.a.createElement("button",{type:"submit",className:"btn"},"Sign In")))};var x=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(u.a,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/",exact:!0,component:g}),r.a.createElement(s.a,{path:"/login",exact:!0,component:N}))))};a(61),a(62);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(x,null)),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.7e115dec.chunk.js.map