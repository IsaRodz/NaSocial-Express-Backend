(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{33:function(e,t,a){e.exports=a(63)},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(29),o=a.n(c),s=a(14),u=a(11),i=a(2),l=a.n(i),m=a(6),p=a(9),f=a(8),d=a.n(f);var v=function(){return r.a.createElement("header",null,r.a.createElement("div",{className:"container"},r.a.createElement(s.b,{to:"/",className:"logo"},"LaboraSocial"),r.a.createElement("nav",null,r.a.createElement(s.b,{to:"/login"},"Log out"))))},E=a(32),h=a(10),b=a.n(h);var w=function(e){var t=e.id,a=e.author,c=e.content,o=e.updatedAt,s=e.currentUser,u=e.updatePosts,i=Object(n.useState)(!1),f=Object(p.a)(i,2),v=f[0],h=f[1],w=Object(n.useState)(c),g=Object(p.a)(w,2),x=g[0],O=g[1],j=function(){var e=Object(m.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.put("/api/posts/".concat(t),{author:a,content:x});case 2:h(!1),u();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"author"},r.a.createElement("div",{className:"top"},r.a.createElement("span",null,a),a===s?r.a.createElement("div",{className:"actions"},r.a.createElement("button",{onClick:function(){return h(!v)}},"Edit"),r.a.createElement("button",{onClick:function(){return function(e){b.a.fire({title:"Are you sure that you want to delete this post?",text:"Once you do it, you can't undo this action",showCancelButton:!0,customClass:!0}).then(function(){var t=Object(m.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==a.value){t.next=7;break}return t.next=3,d.a.delete("/api/posts/".concat(e));case 3:u(),b.a.fire({title:"Post deleted",icon:"success",toast:"true",position:"bottom-left",showConfirmButton:!1}),t.next=8;break;case 7:b.a.fire({title:"Your post is save",icon:"success",toast:"true",position:"bottom-left",showConfirmButton:!1});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}(t)}},"Delete")):null),r.a.createElement("div",{className:"date"},Object(E.a)(o))),r.a.createElement("div",{className:"content"},v?r.a.createElement(r.a.Fragment,null,r.a.createElement("textarea",{defaultValue:c,onChange:function(e){return O(e.target.value)}}),r.a.createElement("button",{onClick:function(){return j(t)}},"Update"),r.a.createElement("button",{style:{color:"#f44336"},onClick:function(){return h(!1)}},"Cancel")):r.a.createElement("span",null,c)))};var g=function(e){var t=e.sharePost,a=e.user,c=Object(n.useState)(""),o=Object(p.a)(c,2),s=o[0],u=o[1],i=function(){var e=Object(m.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),0!=s){e.next=5;break}b.a.fire({title:"You must type something to post",icon:"error",toast:"true",position:"bottom-left",showConfirmButton:!1}),e.next=9;break;case 5:return e.next=7,d.a.post("/api/posts",{author:a,content:s});case 7:u(""),t();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"card"},r.a.createElement("form",{onSubmit:i},r.a.createElement("div",{className:"input"},r.a.createElement("textarea",{value:s,onChange:function(e){return u(e.target.value)},placeholder:"What's on your mind?"}),r.a.createElement("span",null)),r.a.createElement("button",{type:"submit",className:"btn"},"Share")))};var x=function(){Object(n.useEffect)((function(){o()}),[]);var e=Object(n.useState)([]),t=Object(p.a)(e,2),a=t[0],c=t[1],o=function(){var e=Object(m.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("/api/posts");case 2:t=e.sent,c(t.data.reverse());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(m.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(v,null),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"notesList"},r.a.createElement(g,{user:"isarodz",sharePost:s}),r.a.createElement("h1",null,"Latest posts"),a.map((function(e){return r.a.createElement(w,{currentUser:"isarodz",key:e._id,id:e._id,author:e.author,content:e.content,updatedAt:e.updatedAt,updatePosts:s})})))))},O=a(18);var j=function(){var e=Object(n.useState)({email:null,password:null}),t=Object(p.a)(e,2),a=t[0],c=t[1],o=function(){var e=Object(m.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,d.a.post("/api/users/login",{email:a.email,password:a.password});case 3:n=e.sent,"valid_user"===n.data.response?b.a.fire({title:"User validated",icon:"success",showConfirmButton:!1,toast:!0,position:"bottom-left",timer:5e3}):b.a.fire({title:"User or password is incorrect",icon:"error",showConfirmButton:!1,toast:!0,position:"bottom-left",timer:5e3});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"login "},r.a.createElement("form",{onSubmit:o},r.a.createElement("h2",null,"Sign In "),r.a.createElement("div",{className:"input"},r.a.createElement("input",{onChange:function(e){return c(Object(O.a)({},a,{email:e.target.value}))},type:"email",placeholder:"Email",required:!0}),r.a.createElement("span",null)),r.a.createElement("div",{className:"input"},r.a.createElement("input",{onChange:function(e){return c(Object(O.a)({},a,{password:e.target.value}))},type:"password",placeholder:"Password",required:!0}),r.a.createElement("span",null)),r.a.createElement("button",{type:"submit",className:"btn"},"Sign In")))};var y=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(s.a,null,r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/",exact:!0,component:x}),r.a.createElement(u.a,{path:"/login",exact:!0,component:j}))))};a(61),a(62);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(y,null)),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.8d35996c.chunk.js.map