{"version":3,"sources":["components/Nav.js","components/PostCard.js","components/PostForm.js","views/PostsList.js","views/Login.js","components/App.js","index.js"],"names":["Nav","className","to","PostCard","id","author","content","updatedAt","currentUser","updatePosts","useState","editing","setEdit","newContent","setContent","updatePost","a","axios","put","onClick","Swal","fire","title","text","showCancelButton","customClass","then","action","value","delete","icon","toast","position","showConfirmButton","deletePost","format","defaultValue","onChange","e","target","style","color","PostForm","sharePost","user","onSubmit","preventDefault","post","placeholder","type","PostsList","useEffect","fetchData","posts","setPosts","get","response","data","reverse","map","key","_id","Login","email","password","setUser","err","console","log","App","path","exact","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7e115dec.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Nav() {\r\n    return (\r\n        <header>\r\n            <div className=\"container\">\r\n                <Link to=\"/\" className=\"logo\">\r\n                    LaboraSocial\r\n                </Link>\r\n                <nav>\r\n                    <Link to=\"/login\">Log out</Link>\r\n                </nav>\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Nav;\r\n","import React, { useState } from \"react\";\r\nimport { format } from \"timeago.js\";\r\nimport axios from \"axios\";\r\n\r\nimport Swal from \"sweetalert2\";\r\n\r\nfunction PostCard({\r\n    id,\r\n    author,\r\n    content,\r\n    updatedAt,\r\n    currentUser,\r\n    updatePosts,\r\n}) {\r\n    const [editing, setEdit] = useState(false);\r\n    const [newContent, setContent] = useState(content);\r\n\r\n    const updatePost = async id => {\r\n        await axios.put(`/api/posts/${id}`, {\r\n            author: author,\r\n            content: newContent,\r\n        });\r\n\r\n        setEdit(false);\r\n        updatePosts();\r\n    };\r\n    const deletePost = id => {\r\n        Swal.fire({\r\n            title: \"Are you sure that you want to delete this post?\",\r\n            text: \"Once you do it, you can't undo this action\",\r\n            showCancelButton: true,\r\n            customClass: true,\r\n        }).then(async action => {\r\n            if (action.value === true) {\r\n                await axios.delete(`/api/posts/${id}`);\r\n                updatePosts();\r\n                Swal.fire({\r\n                    title: \"Post deleted\",\r\n                    icon: \"success\",\r\n                    toast: \"true\",\r\n                    position: \"bottom-left\",\r\n                    showConfirmButton: false,\r\n                });\r\n            } else {\r\n                Swal.fire({\r\n                    title: \"Your post is save\",\r\n                    icon: \"success\",\r\n                    toast: \"true\",\r\n                    position: \"bottom-left\",\r\n                    showConfirmButton: false,\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div className=\"card\">\r\n            <div className=\"author\">\r\n                <div className=\"top\">\r\n                    <span>{author}</span>\r\n                    {author === currentUser ? (\r\n                        <div className=\"actions\">\r\n                            <button onClick={() => setEdit(!editing)}>\r\n                                Edit\r\n                            </button>\r\n                            <button onClick={() => deletePost(id)}>\r\n                                Delete\r\n                            </button>\r\n                        </div>\r\n                    ) : null}\r\n                </div>\r\n                <div className=\"date\">{format(updatedAt)}</div>\r\n            </div>\r\n            <div className=\"content\">\r\n                {editing ? (\r\n                    <>\r\n                        <textarea\r\n                            defaultValue={content}\r\n                            onChange={e => setContent(e.target.value)}\r\n                        />\r\n                        <button onClick={() => updatePost(id)}>Update</button>\r\n                        <button\r\n                            style={{ color: \"#f44336\" }}\r\n                            onClick={() => setEdit(false)}\r\n                        >\r\n                            Cancel\r\n                        </button>\r\n                    </>\r\n                ) : (\r\n                    <span>{content}</span>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PostCard;\r\n","import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Swal from \"sweetalert2\";\r\n\r\nfunction PostForm({ sharePost, user }) {\r\n    const [content, setContent] = useState(\"\");\r\n\r\n    const onSubmit = async e => {\r\n        e.preventDefault();\r\n\r\n        // eslint-disable-next-line\r\n        if (content == false) {\r\n            Swal.fire({\r\n                title: \"You must type something to post\",\r\n                icon: \"error\",\r\n                toast: \"true\",\r\n                position: \"bottom-left\",\r\n                showConfirmButton: false,\r\n            });\r\n        } else {\r\n            await axios.post(\"/api/posts\", {\r\n                author: user, // \"rodziriarte\", //which will be the current user\r\n                content,\r\n            });\r\n            setContent(\"\");\r\n            sharePost();\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"card\">\r\n            <form onSubmit={onSubmit}>\r\n                <div className=\"input\">\r\n                    <textarea\r\n                        value={content}\r\n                        onChange={e => setContent(e.target.value)}\r\n                        placeholder=\"What's on your mind?\"\r\n                    />\r\n                    <span></span>\r\n                </div>\r\n                <button type=\"submit\" className=\"btn\">\r\n                    Share\r\n                </button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PostForm;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Nav from \"../components/Nav\";\r\nimport PostCard from \"../components/PostCard\";\r\nimport PostForm from \"../components/PostForm\";\r\n\r\nfunction PostsList() {\r\n    useEffect(() => {\r\n        fetchData();\r\n    }, []);\r\n\r\n    const user = \"isarodz\";\r\n\r\n    const [posts, setPosts] = useState([]);\r\n\r\n    const fetchData = async () => {\r\n        let response = await axios.get(\"/api/posts\");\r\n        setPosts(response.data.reverse());\r\n    };\r\n\r\n    const updatePosts = async () => fetchData();\r\n    //fetchData();\r\n\r\n    return (\r\n        <>\r\n            <Nav />\r\n            <div className=\"container\">\r\n                <div className=\"notesList\">\r\n                    <PostForm user={user} sharePost={updatePosts} />\r\n                    <h1>Latest posts</h1>\r\n                    {posts.map(post => (\r\n                        <PostCard\r\n                            currentUser={user}\r\n                            key={post._id}\r\n                            id={post._id}\r\n                            author={post.author}\r\n                            content={post.content}\r\n                            updatedAt={post.updatedAt}\r\n                            updatePosts={updatePosts}\r\n                        />\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default PostsList;\r\n","import React, { useState } from \"react\";\r\n\r\nfunction Login() {\r\n    const [user, setUser] = useState({ email: null, password: null });\r\n\r\n    // eslint-disable-next-line\r\n    const [err, setErr] = useState({ email: null, password: null });\r\n\r\n    const sendLoginForm = e => {\r\n        e.preventDefault();\r\n        console.log(user);\r\n    };\r\n\r\n    return (\r\n        <div className=\"login \">\r\n            <form onSubmit={sendLoginForm}>\r\n                <h2>Sign In </h2>\r\n                <div className=\"input\">\r\n                    <input\r\n                        onChange={e =>\r\n                            setUser({ ...user, email: e.target.value })\r\n                        }\r\n                        type=\"email\"\r\n                        placeholder=\"Email\"\r\n                    />\r\n                    <span></span>\r\n                </div>\r\n                {err.email ? <span className=\"error\">{err.email}</span> : null}\r\n                <div className=\"input\">\r\n                    <input\r\n                        onChange={e =>\r\n                            setUser({ ...user, password: e.target.value })\r\n                        }\r\n                        type=\"password\"\r\n                        placeholder=\"Password\"\r\n                    />\r\n                    <span></span>\r\n                </div>\r\n                {err.password ? (\r\n                    <span className=\"error\">{err.password}</span>\r\n                ) : null}\r\n                <button type=\"submit\" className=\"btn\">\r\n                    Sign In\r\n                </button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Login;\r\n","import React from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\n\nimport PostsList from \"../views/PostsList\";\nimport Login from \"../views/Login\";\n\nfunction App() {\n    return (\n        <div className=\"App\">\n            <Router>\n                <Switch>\n                    <Route path=\"/\" exact component={PostsList} />\n                    <Route path=\"/login\" exact component={Login} />\n                </Switch>\n            </Router>\n        </div>\n    );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\n\nimport \"./index.scss\";\nimport \"./main.scss\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n);\n"],"sourceRoot":""}